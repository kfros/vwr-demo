name: ci
on: [push, pull_request]
jobs:
    build:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v4
            - uses: actions/setup-dotnet@v4
              with: { dotnet-version: '8.0.x' }
            - run: dotnet build
            - run: dotnet test --no-build
frontend:
    runs-on: ubuntu-latest
    defaults:
        run:
            working-directory: frontend/vwr-app
    steps:
        - uses: actions/checkout@v4
        - uses: actions/setup-node@v4
          with: { node-version: '20' }
        - run: npm ci
        - run: npm run build
contracts:
runs-on: ubuntu-latest
defaults:
run:
working-directory: contracts
steps:
    - uses: actions/checkout@v4
    - uses: actions/setup-node@v4
      with: { node-version: '20' }
    - run: npm ci
    - run: npx hardhat compile
    - run: npx hardhat test